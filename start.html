<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSbrowser</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ */
        body, html {
            font-family: 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background-size: cover;
            background-repeat: no-repeat;
            transition: background 0.3s;
        }
        .container { text-align: center; padding: 2rem; }
        .avatar { width: 100px; border-radius: 50%; }
        .search-bar, .search-button { padding: 0.5rem; }
        .settings-btn { 
            position: fixed; 
            top: 10px; 
            right: 10px; 
            cursor: pointer; 
            font-size: 24px; 
            z-index: 1000; /* –ü–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        }

        /* –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
        .settings-panel {
            position: fixed;
            top: 0;
            left: -500px; /* –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–∞ –∑–∞ —ç–∫—Ä–∞–Ω–æ–º */
            width: 400px;
            height: 100%;
            background: #f9f9f9;
            box-shadow: 4px 0 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            overflow-y: auto;
            transition: left 0.4s ease; /* –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
            z-index: 999; /* –ü–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ */
        }
        .settings-panel.open {
            left: 0; /* –í—ã–µ–∑–¥ –ø–∞–Ω–µ–ª–∏ */
        }
        .settings-panel h2 {
            text-align: center;
            font-size: 24px;
            color: #333;
        }
        .settings-panel label {
            display: block;
            margin-top: 1rem;
            color: #555;
            font-size: 14px;
        }
        .settings-panel input, .settings-panel select, .settings-panel button {
            margin: 0.5rem 0;
            padding: 0.5rem;
            width: 100%;
            font-size: 16px;
        }
        .settings-panel button {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }

        /* –°–µ—Ä—ã–π —Ñ–æ–Ω –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–∞–Ω–µ–ª–∏ */
        .gray-background {
            background-color: rgba(128, 128, 128, 0.7); /* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–µ—Ä—ã–π */
        }

        /* –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Å–∞–π—Ç—ã */
        .favorites-list {
            list-style-type: none;
            padding: 0;
        }
        .favorites-list li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
        }
        .remove-btn {
            cursor: pointer;
            color: red;
        }

        /* –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–∞–π—Ç—ã */
        .recommended-sites {
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <span class="settings-btn" onclick="toggleSettings()">‚öôÔ∏é</span>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <img src="https://i.ibb.co/wSytjBf/6fcbf814-772f-4e3b-8533-589afe13a71a.png
" alt="Avatar" class="avatar">
        <h1>Welcome to MSbrowser</h1>
        
        <!-- –§–æ—Ä–º–∞ –ø–æ–∏—Å–∫–∞ -->
        <form id="searchForm" action="https://www.google.com/search" method="get">
            <input type="text" name="q" class="search-bar" placeholder="Search...">
            <button type="submit" class="search-button">Search</button>
        </form>

        <!-- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Å–∞–π—Ç—ã -->
        <h2>‚òÖFavourite Sites</h2>
        <ul id="favoritesList" class="favorites-list"></ul>

        <!-- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–∞–π—Ç—ã -->
        <div class="recommended-sites">
            <h2>üìàPopular Sites</h2>
            <ul>
                <li><a href="https://www.wikipedia.org/" onclick="redirect(event)">Wikipedia</a></li>
                <li><a href="https://www.tiktok.com/" onclick="redirect(event)">TikTok</a></li>
                <li><a href="https://www.youtube.com/" onclick="redirect(event)">Youtube</a></li>
                <li><a href="https://www.instagram.com/" onclick="redirect(event)">Instagram</a></li>
                <li><a href="https://www.pinterest.com/" onclick="redirect(event)">Pinterest</a></li>
            </ul>
        </div>

        <footer>
            <p>MSbrowser</p>
        </footer>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settingsPanel" class="settings-panel">
        <h2>Settings</h2>
        
        <!-- –°–º–µ–Ω–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
        <label for="bgImage">Background Image (file):</label>
        <input type="file" id="bgImage" accept="image/*" onchange="changeBackgroundImage(event)">
        
        <label for="bgImageUrl">Background Image (URL):</label>
        <input type="text" id="bgImageUrl" placeholder="Enter image URL" onblur="changeBackgroundImageUrl()">
        
        <!-- –í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–∞ -->
        <label for="fontSelect">Font:</label>
        <select id="fontSelect" onchange="changeFont()">
            <option value="'Montserrat', sans-serif">Montserrat</option>
            <option value="'Arial', sans-serif">Arial</option>
            <option value="'Courier New', monospace">Courier New</option>
            <option value="'Times New Roman', serif">Times New Roman</option>
        </select>
        
        <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ -->
        <label for="favoriteSite">Add Favorite Site:</label>
        <input type="text" id="favoriteSite" placeholder="Enter URL">
        <button onclick="addFavorite()">Add to Favorites</button>
        
        <!-- –í—ã–±–æ—Ä –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã -->
        <label for="searchEngine">Search Engine:</label>
        <select id="searchEngine" onchange="changeSearchEngine()">
            <option value="https://www.google.com/search">Google</option>
            <option value="https://www.bing.com/search">Bing</option>
            <option value="https://duckduckgo.com/">DuckDuckGo</option>
            <opiton value="https://cse.google.com/cse?cx=76b7cc90a63164247#gsc.tab=0&gsc.q=">MSearch</opiton>
        </select>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–∞–π—Ç
        function redirect(event) {
            event.preventDefault(); // –û—Ç–∫–ª—é—á–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏
            window.location.href = event.target.href; // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ URL —Å–∞–π—Ç–∞
        }
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ localStorage
        const storageKeys = {
            font: 'selectedFont',
            backgroundImage: 'backgroundImage',
            favoriteSites: 'favoriteSites',
            searchEngine: 'searchEngine',
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            loadSettings();
        };

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function toggleSettings() {
            const panel = document.getElementById('settingsPanel');
            panel.classList.toggle('open');
            document.body.classList.toggle('gray-background', panel.classList.contains('open'));
        }

        // –°–º–µ–Ω–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å —Ñ–∞–π–ª–∞
        function changeBackgroundImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.body.style.backgroundImage = `url('${e.target.result}')`;
                    document.body.style.backgroundSize = 'cover';
                    document.body.style.backgroundRepeat = 'no-repeat';
                    localStorage.setItem(storageKeys.backgroundImage, e.target.result); // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
                };
                reader.readAsDataURL(file);
            }
        }

        // –°–º–µ–Ω–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ URL
        function changeBackgroundImageUrl() {
            const url = document.getElementById('bgImageUrl').value;
            if (url) {
                document.body.style.backgroundImage = `url('${url}')`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundRepeat = 'no-repeat';
                localStorage.setItem(storageKeys.backgroundImage, url); // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
            }
        }

        // –°–º–µ–Ω–∞ —à—Ä–∏—Ñ—Ç–∞
        function changeFont() {
            const font = document.getElementById('fontSelect').value;
            document.body.style.fontFamily = font;
            localStorage.setItem(storageKeys.font, font); // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
        function addFavorite() {
            let favoriteUrl = document.getElementById('favoriteSite').value.trim();

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
            if (!favoriteUrl.startsWith('http://') && !favoriteUrl.startsWith('https://')) {
                favoriteUrl = 'https://' + favoriteUrl; // –ò—Å–ø–æ–ª—å–∑—É–µ–º HTTPS –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            }

            if (favoriteUrl) {
                const favoritesList = document.createElement('li');
                favoritesList.innerHTML = `
                    <a href="${favoriteUrl}" target="_blank">${favoriteUrl}</a>
                    <span class="remove-btn" onclick="removeFavorite(this)">‚úñ</span>`;
                document.getElementById('favoritesList').appendChild(favoritesList);
                document.getElementById('favoriteSite').value = ''; // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞
                saveFavoriteSite(favoriteUrl); // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        function removeFavorite(element) {
            const listItem = element.parentElement;
            const url = listItem.querySelector('a').href;
            listItem.remove(); // –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞

            // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ localStorage
            let favorites = JSON.parse(localStorage.getItem(storageKeys.favoriteSites)) || [];
            favorites = favorites.filter(favorite => favorite !== url);
            localStorage.setItem(storageKeys.favoriteSites, JSON.stringify(favorites));
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ –≤ localStorage
        function saveFavoriteSite(url) {
            let favorites = JSON.parse(localStorage.getItem(storageKeys.favoriteSites)) || [];
            favorites.push(url);
            localStorage.setItem(storageKeys.favoriteSites, JSON.stringify(favorites));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        function loadSettings() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —à—Ä–∏—Ñ—Ç–∞
            const savedFont = localStorage.getItem(storageKeys.font);
            if (savedFont) {
                document.body.style.fontFamily = savedFont;
                document.getElementById('fontSelect').value = savedFont;
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            const savedBackgroundImage = localStorage.getItem(storageKeys.backgroundImage);
            if (savedBackgroundImage) {
                document.body.style.backgroundImage = `url('${savedBackgroundImage}')`;
                document.body.style.backgroundSize = 'cover';
                document.body.style.backgroundRepeat = 'no-repeat';
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
            const savedFavorites = JSON.parse(localStorage.getItem(storageKeys.favoriteSites)) || [];
            savedFavorites.forEach(url => {
                const favoritesList = document.createElement('li');
                favoritesList.innerHTML = `
                    <a href="${url}" target="_blank">${url}</a>
                    <span class="remove-btn" onclick="removeFavorite(this)">‚úñ</span>`;
                document.getElementById('favoritesList').appendChild(favoritesList);
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
            const savedSearchEngine = localStorage.getItem(storageKeys.searchEngine) || "https://www.google.com/search";
            document.getElementById('searchEngine').value = savedSearchEngine;
            document.getElementById('searchForm').action = savedSearchEngine;
        }

        // –°–º–µ–Ω–∞ –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
        function changeSearchEngine() {
            const searchEngine = document.getElementById('searchEngine').value;
            const form = document.getElementById('searchForm');
            form.action = searchEngine;
            localStorage.setItem(storageKeys.searchEngine, searchEngine); // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        }
    </script>
</body>
</html>
